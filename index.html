<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Управление подсветкой лестницы</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="styles/styles.css" rel="stylesheet" type="text/css">
		<link href="styles/forms.css" rel="stylesheet" type="text/css">
		<link href="styles/buttons.css" rel="stylesheet" type="text/css">
		<link href="styles/inputs.css" rel="stylesheet" type="text/css">
		<link href="styles/terminal.css" rel="stylesheet" type="text/css">
		<link rel="manifest" href="manifest.json">
		<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
		<link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#2196f3">
		<link rel="shortcut icon" href="icons/favicon.ico">
		
	</head>
	<body>
		
		<div class="dws-form">
			
			<div class = "authorization">
				<!-- Основная форма -->
				<form id="1form-general" class="tab-form">
					<h5>Управление подсветкой лестницы 1</h5>
					<button type="button" id="btn_Auth" onclick="openForm('2form-auth')">Авторизоваться</button>
					<button type="button" id="btn_Skip" onclick="openForm('7form-connect-with-auth')">Пропустить</button>
					<button type="button" id="btn_Quit" onclick="windowClose();">Выход</button>
			<!-- 	<button type="button" onclick="openForm('10form-stair-settings'); ">Переход 10</button>
			-->		<button type="button" onclick="openForm('11form-scenario-set'); ">Переход 11</button>  
				</form>
				
				<!-- Форма авторизации -->
				<form id="2form-auth" class="tab-form">
					<h5>Управление подсветкой лестницы 2</h5>
					<span class="wp" id="wr_pass">Неверный пароль!</span>
					<span class="wp" id="none_pass">Введите пароль!</span>
					<div class="box-input">
						<input id="input_box" class="input" type="password" minlength="1" maxlength="10" >
						<label>Введите пароль</label>
					</div>
					<button type="submit" id="btn_GetIn" >Войти</button>
					<button type="button" id="btn_Back_Gen" onclick="openForm('1form-general')">Назад</button>
				</form>
			</div>
			
			<div class = "non-auth-connect">
				
				<!-- Форма подключения без кода доступа -->
				<form id="13form-non-code-connect" class="tab-form">
					<h5>Управление подсветкой лестницы 13</h5>

					<button type="button" id="btn_On_Staircase" onclick="OnOffStaircase(1)">Включить<br>лестницу</button>
					<button type="button" id="btn_Off_Staircase" onclick="OnOffStaircase(0)">Выключить<br>лестницу</button>
					<button type="button" id="btn_Skip" onclick="disconnect('7form-connect-with-auth')">Разорвать<br>соединение</button>
					<button type="button" id="btn_Quit" onclick="window.open('', '_self', ''); window.close();">Выход</button>
				</form>
			</div>
			
			<div class = "auth-connect">
				<!-- Форма соединения с авторизацией -->
				<form id="6form-with-auth" class="tab-form">
					<h5>Управление подсветкой лестницы 6</h5>

					<button type="button" id="btn_W_A_Jump" onclick="openForm('7form-connect-with-auth')">Подключение</button>
					<button type="button" id="btn_Set_App" onclick="openForm('8form-app-settings')">Настройки<br>приложения</button>
					<button type="button" id="btn_Help" onclick="">Помощь</button>
					<button type="button" id="btn_Quit_2" onclick="window.open('', '_self', ''); window.close();">Выход</button>
				</form>
				
				<!-- Форма ввода пароля с авторизацией -->
				<form id="7form-connect-with-auth" class="tab-form">
					<h5>Управление подсветкой лестницы 7</h5>

					<span class="wc" id="wr_code">Неверный код!</span>
					<span class="wc" id="non_code">Введите код!</span>
					<div class="box-input">
						<input id="input_Code" class="input" type="password" required minlength="1" maxlength="4">
						<label id="lbl">Код доступа к устройству<br>- четырехзначное число -</label>
					</div>
					<button type="submit" id="btn_Connect" onclick="choiseInput('input_Code', '9form-menu-stair')">Подключить<br>устройство</button>
					<button type="button" id="btn_No_Code_Connect" onclick="connection('13form-non-code-connect')">Ограниченное<br>подключение</button>
					<button type="button" id="btn_Back_To_With_Auth" onclick="openForm('1form-general')">Назад</button>
				</form>
				
				<!-- Форма настроек приложения -->
				<form id="8form-app-settings" class="tab-form">	
					<h5>Настройки приложения 8</h5>
					<div>
						<ul class="chk_box_list">
							<li class="chk_box">
								<label for="fone_Change" class="label_set">Цвет фона</label>
								<button class="mini-button" type="button" id="fone_Change">Изменить</button>
							</li>
							<li class="chk_box">
								<label for="sound" class="label_set">Звук</label>
								<input type="checkbox" id="sound" class="appchk">
								<label for="sound" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label for="pass_Change" class="label_set">Пароль</label>
								<button class="mini-button" type="button" id="pass_Change">Изменить</button>
							</li>
							<li class="chk_box">
								<label for="ask_pass" class="label_set">Спрашивать пароль при входе каждый раз</label>
								<input type="checkbox" id="ask_pass" class="appchk">
								<label for="ask_pass" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label for="write_log" class="label_set">Вести лог событий</label>
								<input type="checkbox" id="write_log" class="appchk">
								<label for="write_log" class="chbx"></label>
							</li>
						</ul>
					</div>
					<button type="button" id="btn_Save_Settings" onclick="">Сохранить<br>настройки</button>
					<button type="button" id="btn_Back_With_Auth" onclick="openForm('6form-with-auth')">Назад</button>
				</form>
				
				<!-- Форма меню лестницы -->
				<form id="9form-menu-stair" class="tab-form">
					<h5>Управление подсветкой лестницы 9</h5>
					
					<button type="button" id="btn_On_Staircase2" onclick="OnOffStaircase(1)">Включить<br>лестницу</button>
					<button type="button" id="btn_Off_Staircase2" onclick="OnOffStaircase(0)">Выключить<br>лестницу</button>
					<button type="button" id="btn_Set_Stair" onclick="openForm('10form-stair-settings')">Настройка<br>лестницы</button>
					<button type="button" id="btn_Light_Effect" onclick="openForm('11form-scenario-set')">Световые<br>эффекты</button>
					<button type="button" id="btn_Back_Menu" onclick="openForm('6form-with-auth')">Назад в меню</button>
					<button type="button" id="btn_Inf_Help" >Справка</button>
					<button type="button" id="btn_Quit_3" onclick="window.open('', '_self', ''); window.close();">Выход</button>
				</form>
				
				<!-- Форма настроек лестницы -->
				<form id="10form-stair-settings" class="tab-form">	
					<h5>Настройки параметров<br>автоматической подсветки 10</h5>
					<div>
						<ul class="param_set_list">
							<li class="set_box">
								<label class="label_set_list">Количество ступеней</label>
								<input id='number-of-steps' name="number_of_steps" class="mini-input" type="number" minlength="1" maxlength="2" placeholder="0-20" min='0' max='20' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">шт.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Макс. яркость свечения</label>
								<input id="max-bright" name="max_bright" class="mini-input" type="number" minlength="1" maxlength="3" placeholder="0-100" min='0' max='100' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">%</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Яркость деж. свечения</label>
								<input id="emergency-bright" name="emergency_bright" class="mini-input" type="number" minlength="1" maxlength="3" placeholder="0-100" min='0' max='100' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">%</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Шаг увеличения яркости</label>
								<input id="brightness-step" name="brightness_step" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-4095" min='0' max='4095' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">ед.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка между шагами яркости</label>
								<input id="step-delay" name="step_delay" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-50" min='0' max='50' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка вкл. след. ступени</label>
								<input id="next-step-delay" name="next_step_delay" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-100" min='0' max='100' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка перед выключением</label>
								<input id="delay-before-off" name="delay_before_off" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-10000" min='0' max='10000' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Площадка, № ступени</label>
								<input id="landing-step" name="landing_step" class="mini-input" type="number" minlength="1" maxlength="2" placeholder="№ ступ" min='0' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension"></label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка свечения всей лестницы</label>
								<input id="all-step-on-delay" name="all_step_on_delay" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-50000" min='0' max='50000' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Порог датчика освещенности</label>
								<input id="light-sens-threshold" name="light_sens_threshold" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-2000" min='0' max='2000' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">у.е.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка день/ночь</label>
								<input id="day-night-delay" name="day_night_delay" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-100" min='0' max='100' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">сек.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Дальность верхнего сонара</label>
								<input id="top-sonar-range" name="top_sonar_range" class="mini-input" type="number" minlength="1" maxlength="3" placeholder="0-400" min='0' max='400' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">см.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Дальность нижнего сонара</label>
								<input id="bottom-sonar-range" name="bottom_sonar_range" class="mini-input" type="number" minlength="1" maxlength="3" placeholder="0-400" min='0' max='400' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">см.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Дальность сонаров для режима выключатель</label>
								<input id="switch-sonar-range" name="switch_sonar_range" class="mini-input" type="number" minlength="1" maxlength="3" placeholder="0-100" min='0' max='100' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">см.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Задержка между выстрелами сонаров</label>
								<input id="sonar-shots-delay" name="sonar_shots_delay" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-1000" min='0' max='1000' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Интервал опроса после срабатывания</label>
								<input id="polling-interval-trigg" name="polling_interval_trigg" class="mini-input" type="number" minlength="1" maxlength="4" placeholder="0-5000" min='0' max='5000' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">мс.</label>
							</li>
							<li class="set_box">
								<label class="label_set_list">Количество срабатываний сонара</label>
								<input id="number-sonar-trigg" name="number_sonar_trigg" class="mini-input" type="number" minlength="1" maxlength="2" placeholder="0-10" min='0' max='10' autocomplete="off" onchange="checkValue(this)">
								<label class="dimension">раз</label>
							</li>

						</ul>
					</div>
					<div class="button_pool">
						<button type="submit" id="btn_Save_Settings_App" class="midi-button" onclick="">Сохранить<br>настройки</button>
						<button type="button" id="btn_Settings_Request" class="midi-button" onclick="getSettings()">Загрузить<br>настройки</button>
						<button type="button" id="btn_Default_Settings" class="midi-button" onclick="">Заводские<br>настройки</button>
						<button type="button" id="btn_Back_Menu_Stair" class="midi-button" onclick="openForm('9form-menu-stair')">Назад</button>
					</div>
				</form>
				
				<!-- Форма настроек сценариев -->
				<form id="11form-scenario-set" class="tab-form">	
					<h5>Сценарии работы подсветки 11</h5>
					<a href=# onclick='openTermForm(1)'>открыть терминал</a>
					<div id="scenario-list">
						<ul class="scenario_list">
							<li class="chk_box">
								<label id="C1" for="checkbox1" class="label">Включить все ступени</label>
								<input id="checkbox1" class="chk" type="checkbox">
								<label for="checkbox1" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C2" for="checkbox2" class="label">Восходящая волна</label>
								<input id="checkbox2" class="chk" type="checkbox">
								<label for="checkbox2" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C3" for="checkbox3" class="label">Нисходящая волна</label>
								<input id="checkbox3" class="chk" type="checkbox">
								<label for="checkbox3" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C4" for="checkbox4" class="label">Встречные волны</label>
								<input id="checkbox4" class="chk" type="checkbox">
								<label for="checkbox4" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C5" for="checkbox5" class="label">Расходящиеся волны</label>
								<input id="checkbox5" class="chk" type="checkbox">
								<label for="checkbox5" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C6" for="checkbox6" class="label">Люминесцентная лампа</label>
								<input id="checkbox6" class="chk" type="checkbox">
								<label for="checkbox6" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C7" for="checkbox7" class="label">Туда-обратно</label>
								<input id="checkbox7" class="chk" type="checkbox">
								<label for="checkbox7" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C8" for="checkbox8" class="label">SOS</label>
								<input id="checkbox8" class="chk" type="checkbox">
								<label for="checkbox8" class="chbx"></label>
							</li>
							<li class="chk_box">
								<label id="C9" for="checkbox9" class="label">Выключить</label>
								<input id="checkbox9" class="chk" type="checkbox">
								<label for="checkbox9" class="chbx"></label>
							</li>
							<hr>
							<li class="chk_box">
								<label for="loop-Script" class="nolabel">Зациклить сценарий</label>
								<input id="loop-Script" class="chk" type="checkbox">
								<label for="loop-Script" class="chbx"></label>
							</li>
						</ul>
					</div>
					<div class="range_Bright">
						<label class="label_bright">Яркость свечения: &nbsp;&nbsp;</label>
						<p id="progress_value" class="progress"></p>
						<label class="label_percent">%</label>
					</div>
					<input id="range-Bright" class="range-input" type="range" min="0" max="100" value="90">
					
					<button type="button" id="btn_Save_Settings" onclick="checkedCheckbox()">Применить</button>
					<button type="button" id="btn_Back_Stair_Settings" onclick="openForm('9form-menu-stair')">Назад</button>
					<button type="button" id="qwerty" onclick="progressValue()">qwerty</button>
				</form>
				
				<!-- Форма подключения с кодом доступа -->
				<!-- Форма является копией 13form-non-code-connect  - подумать как объединить-->
				<form id="14form-with-code-connect" class="tab-form">
					<h5>Управление подсветкой лестницы 14</h5>
					<button type="button" id="btn_On_Staircase3" onclick="OnOffStaircase(1)">Включить<br>лестницу</button>
					<button type="button" id="btn_Off_Staircase3" onclick="OnOffStaircase(0)">Выключить<br>лестницу</button>
					<button type="button" id="btn_Skip" onclick="openForm('7form-connect-with-auth')">Назад</button>
					<button type="button" id="btn_Quit" onclick="window.open('', '_self', ''); window.close();">Выход</button>
					
				</form>
			</div>
			
			<!-- Форма терминала -->
				<form class="term-form" id="terminal-form">
					<!-- <h5>Подключение к лестнице</h5> -->
					<div id="terminalBlock">
						<input id="inputTerminal" type="text">
						<button id="terminalButton" type="submit">Send</button>
					</div>
					<div id="terminal" class="terminal">
					<!-- <a href=# id='closeTerminal' onclick='openTermForm(0)'><закрыть терминал></a> -->
						<div>...так выглядят сервисные сообщения...</div>
						<div class="out">...так выглядят исходящие сообщения...</div>
						<div class="in">...так выглядят входящие сообщения...</div>
					</div>
				</form>
		</div>
		
		
		
		<button id="connect" type="button">Connect</button>

		<button id="disconnect" type="button">Disconnect</button>

		


		<script src="js/main.js"></script>
		<script src="js/forms.js"></script>
		<script src="js/terminal.js"></script>
	<!--	<script src="companion.js" data-service-worker="sw.js"></script>  -->
	<!--	<script src="js/sw.js"></script>  -->
	
		<script type="text/javascript">
			document.getElementById("1form-general").style.display = "block";
		</script>
		<script src="js/companion.js" data-service-worker="sw.js"></script>
	</body>
</html>